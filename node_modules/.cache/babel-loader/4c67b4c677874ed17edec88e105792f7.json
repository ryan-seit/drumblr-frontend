{"ast":null,"code":"var _jsxFileName = \"/Users/ryan/Documents/GitHub/drumblr_frontend/src/App.js\";\nimport React from 'react';\nimport MIDISounds from 'midi-sounds-react';\nimport SampleContainer from './SampleContainer';\nimport HeaderContainer from './HeaderContainer';\nimport NavBar from './NavBar';\nimport './css/App.css';\nimport './css/NavBar.css';\nimport './css/HeaderContainer.css';\nimport './css/SampleContainer.css';\nimport './css/App.css';\nconst URL = 'http://localhost:3000';\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      bpm: 120,\n      name: 'test',\n      sample1: 3,\n      sample2: 22,\n      sample3: 26,\n      sample4: 35,\n      tracks: [[false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false]]\n    };\n    this.beats = [];\n\n    this.renderMIDISounds = () => {\n      return /*#__PURE__*/React.createElement(MIDISounds, {\n        ref: ref => this.midiSounds = ref,\n        appElementName: \"root\",\n        drums: [this.state.sample1, this.state.sample2, this.state.sample3, this.state.sample4],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }\n      });\n    };\n\n    this.fillBeat = () => {\n      for (let i = 0; i < 16; i++) {\n        let index = i;\n        let drums = [];\n\n        if (this.state.tracks[0][i]) {\n          drums.push(this.state.sample1);\n        }\n\n        if (this.state.tracks[1][i]) {\n          drums.push(this.state.sample2);\n        }\n\n        if (this.state.tracks[2][i]) {\n          drums.push(this.state.sample3);\n        }\n\n        if (this.state.tracks[3][i]) {\n          drums.push(this.state.sample4);\n        }\n\n        let drumBeat = [drums, []];\n        this.beats[index] = drumBeat;\n      }\n    };\n\n    this.playLoop = () => {\n      this.fillBeat();\n      this.midiSounds.startPlayLoop(this.beats, 120, 1 / 16);\n    };\n\n    this.stopLoop = () => {\n      this.midiSounds.stopPlayLoop();\n    };\n\n    this.toggleDrum = (track, step) => {\n      let a = [...this.state.tracks];\n      a[track][step] = !a[track][step];\n      this.setState({\n        tracks: a\n      });\n      this.fillBeat();\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      initialized: true\n    });\n  } // render MIDISounds logo in order for samples to play when sequence is triggered\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(HeaderContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(NavBar, {\n      playLoop: this.playLoop,\n      stopLoop: this.stopLoop,\n      handleSave: this.handleSave,\n      bpm: this.state.bpm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(SampleContainer, {\n      app: this.state,\n      toggleDrum: this.toggleDrum,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"FooterContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }), this.renderMIDISounds()));\n  }\n\n}","map":{"version":3,"sources":["/Users/ryan/Documents/GitHub/drumblr_frontend/src/App.js"],"names":["React","MIDISounds","SampleContainer","HeaderContainer","NavBar","URL","App","Component","state","bpm","name","sample1","sample2","sample3","sample4","tracks","beats","renderMIDISounds","ref","midiSounds","fillBeat","i","index","drums","push","drumBeat","playLoop","startPlayLoop","stopLoop","stopPlayLoop","toggleDrum","track","step","a","setState","componentDidMount","initialized","render","handleSave"],"mappings":"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","sourcesContent":["import React from 'react';\nimport MIDISounds from 'midi-sounds-react';\nimport SampleContainer from './SampleContainer';\nimport HeaderContainer from './HeaderContainer';\nimport NavBar from './NavBar';\nimport './css/App.css';\nimport './css/NavBar.css';\nimport './css/HeaderContainer.css';\nimport './css/SampleContainer.css';\nimport './css/App.css';\n\nconst URL = 'http://localhost:3000';\n\nexport default class App extends React.Component {\n\n  state = {\n    bpm: 120,\n    name: 'test',\n    sample1: 3,\n    sample2: 22,\n    sample3: 26,\n    sample4: 35,\n    tracks:[\n      [false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],\n      [false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],\n      [false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],\n      [false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]\n    ],\n  }\n  beats=[]\n\n\tcomponentDidMount() {\n\t\tthis.setState({ initialized: true });\n  }\n\n  // render MIDISounds logo in order for samples to play when sequence is triggered\n  renderMIDISounds = () => {\n    return (\n      <MIDISounds \n      ref={(ref) => (this.midiSounds = ref)}\n      appElementName=\"root\" \n      drums={[this.state.sample1, this.state.sample2, this.state.sample3, this.state.sample4]}\n      />\n    )\n  }\n  \n\n  fillBeat = () => {\n    for(let i=0; i < 16; i++){\n      let index = i\n      let drums = [];          \n        if (this.state.tracks[0][i]){drums.push(this.state.sample1)} \n        if (this.state.tracks[1][i]){drums.push(this.state.sample2)}\n        if (this.state.tracks[2][i]){drums.push(this.state.sample3)}\n        if (this.state.tracks[3][i]){drums.push(this.state.sample4)} \n        let drumBeat = [drums, []];\n        this.beats[index] = drumBeat\n    }\n  }\n                  \n\tplayLoop = () => {\n    this.fillBeat();\n    this.midiSounds.startPlayLoop(this.beats, 120, 1/16);\n  }\n  \n\tstopLoop = () => {\n\t\tthis.midiSounds.stopPlayLoop();\n  }\n\n\ttoggleDrum = (track ,step) => {\n    let a = [...this.state.tracks];\n    a[track][step] = !a[track][step];\n\t\tthis.setState({\n      tracks: a\n    });\n    this.fillBeat();\n\t}\n\n  render() {\n    return (\n      <>\n      <div className=\"App\">\n          <HeaderContainer />\n          <NavBar playLoop={this.playLoop} stopLoop={this.stopLoop} handleSave={this.handleSave} bpm={this.state.bpm} />\n          <SampleContainer app={this.state} toggleDrum={this.toggleDrum} />\n          <div className=\"FooterContainer\"></div>\n        {this.renderMIDISounds()}\n      </div>\n      </>\n  );\n}\n}"]},"metadata":{},"sourceType":"module"}